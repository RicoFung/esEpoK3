<?xml version="1.0" encoding="UTF-8"?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">   


<mapper namespace="com.api.entity.TbK3SalReturnstockentry">
      <!-- 自动生成id策略 -->
    <insert id="add" parameterType="com.api.entity.TbK3SalReturnstockentry" useGeneratedKeys="true" keyProperty="id">  
       	insert into tb_k3_sal_returnstockentry 
       	( fentryid, fid, fseq, fmaterialid, funitid, fauxpropid, fmustqty, frealqty, fstockid, fstocklocid, fstockstatusid, fdeliverydate, fproducedate, fexpunit, fexpperiod, fexpirydate, flot, flot_text, fsupplierlot, fbaseunitid, fbaseunitqty, fauxunitid, fauxunitqty, fextauxunitid, fextauxunitqty, fbomid, fnote, forderno, forderseq, fstockflag, fownertypeid, fownerid, fkeepertypeid, fkeeperid, fsrcbilltype, fsrcbillno, fsrcbillseq, freturntype, fmapid, fbflowid, fmtono, fprojectno, fsnunitid, fsnqty, frefuseflag, fisconsumesum, fqualifytype, fsoentryid, tc_define_rowid) 
       	values
       	( #{fentryid}, #{fid}, #{fseq}, #{fmaterialid}, #{funitid}, #{fauxpropid}, #{fmustqty}, #{frealqty}, #{fstockid}, #{fstocklocid}, #{fstockstatusid}, #{fdeliverydate}, #{fproducedate}, #{fexpunit}, #{fexpperiod}, #{fexpirydate}, #{flot}, #{flotText}, #{fsupplierlot}, #{fbaseunitid}, #{fbaseunitqty}, #{fauxunitid}, #{fauxunitqty}, #{fextauxunitid}, #{fextauxunitqty}, #{fbomid}, #{fnote}, #{forderno}, #{forderseq}, #{fstockflag}, #{fownertypeid}, #{fownerid}, #{fkeepertypeid}, #{fkeeperid}, #{fsrcbilltype}, #{fsrcbillno}, #{fsrcbillseq}, #{freturntype}, #{fmapid}, #{fbflowid}, #{fmtono}, #{fprojectno}, #{fsnunitid}, #{fsnqty}, #{frefuseflag}, #{fisconsumesum}, #{fqualifytype}, #{fsoentryid}, #{tcDefineRowid})
    </insert>  
	
	<delete id="del" parameterType="com.api.entity.TbK3SalReturnstockentry">
		delete from tb_k3_sal_returnstockentry 
	</delete>
	
	<update id="upd" parameterType="com.api.entity.TbK3SalReturnstockentry">
		update tb_k3_sal_returnstockentry set
	           fentryid = #{fentryid}, 
	           fid = #{fid}, 
	           fseq = #{fseq}, 
	           fmaterialid = #{fmaterialid}, 
	           funitid = #{funitid}, 
	           fauxpropid = #{fauxpropid}, 
	           fmustqty = #{fmustqty}, 
	           frealqty = #{frealqty}, 
	           fstockid = #{fstockid}, 
	           fstocklocid = #{fstocklocid}, 
	           fstockstatusid = #{fstockstatusid}, 
	           fdeliverydate = #{fdeliverydate}, 
	           fproducedate = #{fproducedate}, 
	           fexpunit = #{fexpunit}, 
	           fexpperiod = #{fexpperiod}, 
	           fexpirydate = #{fexpirydate}, 
	           flot = #{flot}, 
	           flot_text = #{flotText}, 
	           fsupplierlot = #{fsupplierlot}, 
	           fbaseunitid = #{fbaseunitid}, 
	           fbaseunitqty = #{fbaseunitqty}, 
	           fauxunitid = #{fauxunitid}, 
	           fauxunitqty = #{fauxunitqty}, 
	           fextauxunitid = #{fextauxunitid}, 
	           fextauxunitqty = #{fextauxunitqty}, 
	           fbomid = #{fbomid}, 
	           fnote = #{fnote}, 
	           forderno = #{forderno}, 
	           forderseq = #{forderseq}, 
	           fstockflag = #{fstockflag}, 
	           fownertypeid = #{fownertypeid}, 
	           fownerid = #{fownerid}, 
	           fkeepertypeid = #{fkeepertypeid}, 
	           fkeeperid = #{fkeeperid}, 
	           fsrcbilltype = #{fsrcbilltype}, 
	           fsrcbillno = #{fsrcbillno}, 
	           fsrcbillseq = #{fsrcbillseq}, 
	           freturntype = #{freturntype}, 
	           fmapid = #{fmapid}, 
	           fbflowid = #{fbflowid}, 
	           fmtono = #{fmtono}, 
	           fprojectno = #{fprojectno}, 
	           fsnunitid = #{fsnunitid}, 
	           fsnqty = #{fsnqty}, 
	           frefuseflag = #{frefuseflag}, 
	           fisconsumesum = #{fisconsumesum}, 
	           fqualifytype = #{fqualifytype}, 
	           fsoentryid = #{fsoentryid}, 
	           tc_define_rowid = #{tcDefineRowid} 
	</update>
  	
	<resultMap type="com.api.entity.TbK3SalReturnstockentry" id="result">
        <result property="fentryid" column="FENTRYID"/>
        <result property="fid" column="FID"/>
        <result property="fseq" column="FSEQ"/>
        <result property="fmaterialid" column="FMATERIALID"/>
        <result property="funitid" column="FUNITID"/>
        <result property="fauxpropid" column="FAUXPROPID"/>
        <result property="fmustqty" column="FMUSTQTY"/>
        <result property="frealqty" column="FREALQTY"/>
        <result property="fstockid" column="FSTOCKID"/>
        <result property="fstocklocid" column="FSTOCKLOCID"/>
        <result property="fstockstatusid" column="FSTOCKSTATUSID"/>
        <result property="fdeliverydate" column="FDELIVERYDATE"/>
        <result property="fproducedate" column="FPRODUCEDATE"/>
        <result property="fexpunit" column="FEXPUNIT"/>
        <result property="fexpperiod" column="FEXPPERIOD"/>
        <result property="fexpirydate" column="FEXPIRYDATE"/>
        <result property="flot" column="FLOT"/>
        <result property="flotText" column="FLOT_TEXT"/>
        <result property="fsupplierlot" column="FSUPPLIERLOT"/>
        <result property="fbaseunitid" column="FBASEUNITID"/>
        <result property="fbaseunitqty" column="FBASEUNITQTY"/>
        <result property="fauxunitid" column="FAUXUNITID"/>
        <result property="fauxunitqty" column="FAUXUNITQTY"/>
        <result property="fextauxunitid" column="FEXTAUXUNITID"/>
        <result property="fextauxunitqty" column="FEXTAUXUNITQTY"/>
        <result property="fbomid" column="FBOMID"/>
        <result property="fnote" column="FNOTE"/>
        <result property="forderno" column="FORDERNO"/>
        <result property="forderseq" column="FORDERSEQ"/>
        <result property="fstockflag" column="FSTOCKFLAG"/>
        <result property="fownertypeid" column="FOWNERTYPEID"/>
        <result property="fownerid" column="FOWNERID"/>
        <result property="fkeepertypeid" column="FKEEPERTYPEID"/>
        <result property="fkeeperid" column="FKEEPERID"/>
        <result property="fsrcbilltype" column="FSRCBILLTYPE"/>
        <result property="fsrcbillno" column="FSRCBILLNO"/>
        <result property="fsrcbillseq" column="FSRCBILLSEQ"/>
        <result property="freturntype" column="FRETURNTYPE"/>
        <result property="fmapid" column="FMAPID"/>
        <result property="fbflowid" column="FBFLOWID"/>
        <result property="fmtono" column="FMTONO"/>
        <result property="fprojectno" column="FPROJECTNO"/>
        <result property="fsnunitid" column="FSNUNITID"/>
        <result property="fsnqty" column="FSNQTY"/>
        <result property="frefuseflag" column="FREFUSEFLAG"/>
        <result property="fisconsumesum" column="FISCONSUMESUM"/>
        <result property="fqualifytype" column="FQUALIFYTYPE"/>
        <result property="fsoentryid" column="FSOENTRYID"/>
        <result property="tcDefineRowid" column="TC_DEFINE_ROWID"/>
	</resultMap>
  	
	<sql id="columns">
		t.fentryid, t.fid, t.fseq, t.fmaterialid, t.funitid, t.fauxpropid, t.fmustqty, t.frealqty, t.fstockid, t.fstocklocid, t.fstockstatusid, t.fdeliverydate, t.fproducedate, t.fexpunit, t.fexpperiod, t.fexpirydate, t.flot, t.flot_text, t.fsupplierlot, t.fbaseunitid, t.fbaseunitqty, t.fauxunitid, t.fauxunitqty, t.fextauxunitid, t.fextauxunitqty, t.fbomid, t.fnote, t.forderno, t.forderseq, t.fstockflag, t.fownertypeid, t.fownerid, t.fkeepertypeid, t.fkeeperid, t.fsrcbilltype, t.fsrcbillno, t.fsrcbillseq, t.freturntype, t.fmapid, t.fbflowid, t.fmtono, t.fprojectno, t.fsnunitid, t.fsnqty, t.frefuseflag, t.fisconsumesum, t.fqualifytype, t.fsoentryid, t.tc_define_rowid 
	</sql>
	
	<sql id="order">
		<choose>
			<when test="@chok.devwork.Ognl@isNotEmpty(sort)">
				order by tt.<include refid="orderParse1"/> ${order}
			</when>
			<when test="@chok.devwork.Ognl@isNotEmpty(multiSort) and @chok.devwork.Ognl@isEmpty(sort)">
				order by <foreach collection="multiSort" index="index" item="item" separator=",">tt.<include refid="orderParse2" /> ${item.sortOrder}</foreach>  
			</when>
			<otherwise>
			</otherwise>
		</choose>
	</sql>
	<sql id="orderParse1">
		<if test="sort == 'fentryid'">fentryid</if>
		<if test="sort == 'fid'">fid</if>
		<if test="sort == 'fseq'">fseq</if>
		<if test="sort == 'fmaterialid'">fmaterialid</if>
		<if test="sort == 'funitid'">funitid</if>
		<if test="sort == 'fauxpropid'">fauxpropid</if>
		<if test="sort == 'fmustqty'">fmustqty</if>
		<if test="sort == 'frealqty'">frealqty</if>
		<if test="sort == 'fstockid'">fstockid</if>
		<if test="sort == 'fstocklocid'">fstocklocid</if>
		<if test="sort == 'fstockstatusid'">fstockstatusid</if>
		<if test="sort == 'fdeliverydate'">fdeliverydate</if>
		<if test="sort == 'fproducedate'">fproducedate</if>
		<if test="sort == 'fexpunit'">fexpunit</if>
		<if test="sort == 'fexpperiod'">fexpperiod</if>
		<if test="sort == 'fexpirydate'">fexpirydate</if>
		<if test="sort == 'flot'">flot</if>
		<if test="sort == 'flotText'">flot_text</if>
		<if test="sort == 'fsupplierlot'">fsupplierlot</if>
		<if test="sort == 'fbaseunitid'">fbaseunitid</if>
		<if test="sort == 'fbaseunitqty'">fbaseunitqty</if>
		<if test="sort == 'fauxunitid'">fauxunitid</if>
		<if test="sort == 'fauxunitqty'">fauxunitqty</if>
		<if test="sort == 'fextauxunitid'">fextauxunitid</if>
		<if test="sort == 'fextauxunitqty'">fextauxunitqty</if>
		<if test="sort == 'fbomid'">fbomid</if>
		<if test="sort == 'fnote'">fnote</if>
		<if test="sort == 'forderno'">forderno</if>
		<if test="sort == 'forderseq'">forderseq</if>
		<if test="sort == 'fstockflag'">fstockflag</if>
		<if test="sort == 'fownertypeid'">fownertypeid</if>
		<if test="sort == 'fownerid'">fownerid</if>
		<if test="sort == 'fkeepertypeid'">fkeepertypeid</if>
		<if test="sort == 'fkeeperid'">fkeeperid</if>
		<if test="sort == 'fsrcbilltype'">fsrcbilltype</if>
		<if test="sort == 'fsrcbillno'">fsrcbillno</if>
		<if test="sort == 'fsrcbillseq'">fsrcbillseq</if>
		<if test="sort == 'freturntype'">freturntype</if>
		<if test="sort == 'fmapid'">fmapid</if>
		<if test="sort == 'fbflowid'">fbflowid</if>
		<if test="sort == 'fmtono'">fmtono</if>
		<if test="sort == 'fprojectno'">fprojectno</if>
		<if test="sort == 'fsnunitid'">fsnunitid</if>
		<if test="sort == 'fsnqty'">fsnqty</if>
		<if test="sort == 'frefuseflag'">frefuseflag</if>
		<if test="sort == 'fisconsumesum'">fisconsumesum</if>
		<if test="sort == 'fqualifytype'">fqualifytype</if>
		<if test="sort == 'fsoentryid'">fsoentryid</if>
		<if test="sort == 'tcDefineRowid'">tc_define_rowid</if>
	</sql>
	<sql id="orderParse2">
		<if test="item.sortName == 'fentryid'">fentryid</if>
		<if test="item.sortName == 'fid'">fid</if>
		<if test="item.sortName == 'fseq'">fseq</if>
		<if test="item.sortName == 'fmaterialid'">fmaterialid</if>
		<if test="item.sortName == 'funitid'">funitid</if>
		<if test="item.sortName == 'fauxpropid'">fauxpropid</if>
		<if test="item.sortName == 'fmustqty'">fmustqty</if>
		<if test="item.sortName == 'frealqty'">frealqty</if>
		<if test="item.sortName == 'fstockid'">fstockid</if>
		<if test="item.sortName == 'fstocklocid'">fstocklocid</if>
		<if test="item.sortName == 'fstockstatusid'">fstockstatusid</if>
		<if test="item.sortName == 'fdeliverydate'">fdeliverydate</if>
		<if test="item.sortName == 'fproducedate'">fproducedate</if>
		<if test="item.sortName == 'fexpunit'">fexpunit</if>
		<if test="item.sortName == 'fexpperiod'">fexpperiod</if>
		<if test="item.sortName == 'fexpirydate'">fexpirydate</if>
		<if test="item.sortName == 'flot'">flot</if>
		<if test="item.sortName == 'flotText'">flot_text</if>
		<if test="item.sortName == 'fsupplierlot'">fsupplierlot</if>
		<if test="item.sortName == 'fbaseunitid'">fbaseunitid</if>
		<if test="item.sortName == 'fbaseunitqty'">fbaseunitqty</if>
		<if test="item.sortName == 'fauxunitid'">fauxunitid</if>
		<if test="item.sortName == 'fauxunitqty'">fauxunitqty</if>
		<if test="item.sortName == 'fextauxunitid'">fextauxunitid</if>
		<if test="item.sortName == 'fextauxunitqty'">fextauxunitqty</if>
		<if test="item.sortName == 'fbomid'">fbomid</if>
		<if test="item.sortName == 'fnote'">fnote</if>
		<if test="item.sortName == 'forderno'">forderno</if>
		<if test="item.sortName == 'forderseq'">forderseq</if>
		<if test="item.sortName == 'fstockflag'">fstockflag</if>
		<if test="item.sortName == 'fownertypeid'">fownertypeid</if>
		<if test="item.sortName == 'fownerid'">fownerid</if>
		<if test="item.sortName == 'fkeepertypeid'">fkeepertypeid</if>
		<if test="item.sortName == 'fkeeperid'">fkeeperid</if>
		<if test="item.sortName == 'fsrcbilltype'">fsrcbilltype</if>
		<if test="item.sortName == 'fsrcbillno'">fsrcbillno</if>
		<if test="item.sortName == 'fsrcbillseq'">fsrcbillseq</if>
		<if test="item.sortName == 'freturntype'">freturntype</if>
		<if test="item.sortName == 'fmapid'">fmapid</if>
		<if test="item.sortName == 'fbflowid'">fbflowid</if>
		<if test="item.sortName == 'fmtono'">fmtono</if>
		<if test="item.sortName == 'fprojectno'">fprojectno</if>
		<if test="item.sortName == 'fsnunitid'">fsnunitid</if>
		<if test="item.sortName == 'fsnqty'">fsnqty</if>
		<if test="item.sortName == 'frefuseflag'">frefuseflag</if>
		<if test="item.sortName == 'fisconsumesum'">fisconsumesum</if>
		<if test="item.sortName == 'fqualifytype'">fqualifytype</if>
		<if test="item.sortName == 'fsoentryid'">fsoentryid</if>
		<if test="item.sortName == 'tcDefineRowid'">tc_define_rowid</if>
	</sql>
	
	<sql id="dynamicWhere">
		<where>	      				
	       <if test="@chok.devwork.Ognl@isNotEmpty(fentryid)"> and t.fentryid like concat('%',#{fentryid},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fid)"> and t.fid like concat('%',#{fid},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fseq)"> and t.fseq like concat('%',#{fseq},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fmaterialid)"> and t.fmaterialid like concat('%',#{fmaterialid},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(funitid)"> and t.funitid like concat('%',#{funitid},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fauxpropid)"> and t.fauxpropid like concat('%',#{fauxpropid},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fmustqty)"> and t.fmustqty like concat('%',#{fmustqty},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(frealqty)"> and t.frealqty like concat('%',#{frealqty},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fstockid)"> and t.fstockid like concat('%',#{fstockid},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fstocklocid)"> and t.fstocklocid like concat('%',#{fstocklocid},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fstockstatusid)"> and t.fstockstatusid like concat('%',#{fstockstatusid},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fdeliverydate)"> and t.fdeliverydate like concat('%',#{fdeliverydate},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fproducedate)"> and t.fproducedate like concat('%',#{fproducedate},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fexpunit)"> and t.fexpunit like concat('%',#{fexpunit},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fexpperiod)"> and t.fexpperiod like concat('%',#{fexpperiod},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fexpirydate)"> and t.fexpirydate like concat('%',#{fexpirydate},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(flot)"> and t.flot like concat('%',#{flot},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(flotText)"> and t.flot_text like concat('%',#{flotText},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fsupplierlot)"> and t.fsupplierlot like concat('%',#{fsupplierlot},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fbaseunitid)"> and t.fbaseunitid like concat('%',#{fbaseunitid},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fbaseunitqty)"> and t.fbaseunitqty like concat('%',#{fbaseunitqty},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fauxunitid)"> and t.fauxunitid like concat('%',#{fauxunitid},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fauxunitqty)"> and t.fauxunitqty like concat('%',#{fauxunitqty},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fextauxunitid)"> and t.fextauxunitid like concat('%',#{fextauxunitid},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fextauxunitqty)"> and t.fextauxunitqty like concat('%',#{fextauxunitqty},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fbomid)"> and t.fbomid like concat('%',#{fbomid},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fnote)"> and t.fnote like concat('%',#{fnote},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(forderno)"> and t.forderno like concat('%',#{forderno},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(forderseq)"> and t.forderseq like concat('%',#{forderseq},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fstockflag)"> and t.fstockflag like concat('%',#{fstockflag},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fownertypeid)"> and t.fownertypeid like concat('%',#{fownertypeid},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fownerid)"> and t.fownerid like concat('%',#{fownerid},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fkeepertypeid)"> and t.fkeepertypeid like concat('%',#{fkeepertypeid},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fkeeperid)"> and t.fkeeperid like concat('%',#{fkeeperid},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fsrcbilltype)"> and t.fsrcbilltype like concat('%',#{fsrcbilltype},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fsrcbillno)"> and t.fsrcbillno like concat('%',#{fsrcbillno},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fsrcbillseq)"> and t.fsrcbillseq like concat('%',#{fsrcbillseq},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(freturntype)"> and t.freturntype like concat('%',#{freturntype},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fmapid)"> and t.fmapid like concat('%',#{fmapid},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fbflowid)"> and t.fbflowid like concat('%',#{fbflowid},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fmtono)"> and t.fmtono like concat('%',#{fmtono},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fprojectno)"> and t.fprojectno like concat('%',#{fprojectno},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fsnunitid)"> and t.fsnunitid like concat('%',#{fsnunitid},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fsnqty)"> and t.fsnqty like concat('%',#{fsnqty},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(frefuseflag)"> and t.frefuseflag like concat('%',#{frefuseflag},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fisconsumesum)"> and t.fisconsumesum like concat('%',#{fisconsumesum},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fqualifytype)"> and t.fqualifytype like concat('%',#{fqualifytype},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(fsoentryid)"> and t.fsoentryid like concat('%',#{fsoentryid},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(tcDefineRowid)"> and t.tc_define_rowid like concat('%',#{tcDefineRowid},'%')</if>
	       <if test="@chok.devwork.Ognl@isNotEmpty(search)"> and (t.fentryid like concat('%',#{search},'%') or t.fid like concat('%',#{search},'%') or t.fseq like concat('%',#{search},'%') or t.fmaterialid like concat('%',#{search},'%') or t.funitid like concat('%',#{search},'%') or t.fauxpropid like concat('%',#{search},'%') or t.fmustqty like concat('%',#{search},'%') or t.frealqty like concat('%',#{search},'%') or t.fstockid like concat('%',#{search},'%') or t.fstocklocid like concat('%',#{search},'%') or t.fstockstatusid like concat('%',#{search},'%') or t.fdeliverydate like concat('%',#{search},'%') or t.fproducedate like concat('%',#{search},'%') or t.fexpunit like concat('%',#{search},'%') or t.fexpperiod like concat('%',#{search},'%') or t.fexpirydate like concat('%',#{search},'%') or t.flot like concat('%',#{search},'%') or t.flot_text like concat('%',#{search},'%') or t.fsupplierlot like concat('%',#{search},'%') or t.fbaseunitid like concat('%',#{search},'%') or t.fbaseunitqty like concat('%',#{search},'%') or t.fauxunitid like concat('%',#{search},'%') or t.fauxunitqty like concat('%',#{search},'%') or t.fextauxunitid like concat('%',#{search},'%') or t.fextauxunitqty like concat('%',#{search},'%') or t.fbomid like concat('%',#{search},'%') or t.fnote like concat('%',#{search},'%') or t.forderno like concat('%',#{search},'%') or t.forderseq like concat('%',#{search},'%') or t.fstockflag like concat('%',#{search},'%') or t.fownertypeid like concat('%',#{search},'%') or t.fownerid like concat('%',#{search},'%') or t.fkeepertypeid like concat('%',#{search},'%') or t.fkeeperid like concat('%',#{search},'%') or t.fsrcbilltype like concat('%',#{search},'%') or t.fsrcbillno like concat('%',#{search},'%') or t.fsrcbillseq like concat('%',#{search},'%') or t.freturntype like concat('%',#{search},'%') or t.fmapid like concat('%',#{search},'%') or t.fbflowid like concat('%',#{search},'%') or t.fmtono like concat('%',#{search},'%') or t.fprojectno like concat('%',#{search},'%') or t.fsnunitid like concat('%',#{search},'%') or t.fsnqty like concat('%',#{search},'%') or t.frefuseflag like concat('%',#{search},'%') or t.fisconsumesum like concat('%',#{search},'%') or t.fqualifytype like concat('%',#{search},'%') or t.fsoentryid like concat('%',#{search},'%') or t.tc_define_rowid like concat('%',#{search},'%'))</if>	
		</where>
	</sql>	
	
	<select id="get" resultMap="result">
		select <include refid="columns"/> 
		  from tb_k3_sal_returnstockentry t 
	</select>
	
	<select id="query" resultType="list" resultMap="result">
		<choose>
			<!-- 翻页 -->
			<when test="@chok.devwork.Ognl@isNotEmpty(offset) and @chok.devwork.Ognl@isNotEmpty(limit)">
				select * from (select row_.*, rownum rownum_ from(
					select tt.* from 
					(
						select <include refid="columns"/> from tb_k3_sal_returnstockentry t
						<include refid="dynamicWhere" />
					) tt
					<include refid="order" />
	            ) row_ where rownum &lt;= #{offset,javaType=String,jdbcType=NUMERIC}+#{limit,javaType=String,jdbcType=NUMERIC} ) 
	            where rownum_ &gt; #{offset,javaType=String,jdbcType=NUMERIC}
			</when>
			<!-- 非翻页 -->
			<otherwise>
				select tt.* from 
				(
					select <include refid="columns"/> from tb_k3_sal_returnstockentry t
					<include refid="dynamicWhere" />
				) tt
				<include refid="order" />
			</otherwise>
		</choose>
	</select>
	
	<select id="getCount" resultType="int">
		select count(1) from tb_k3_sal_returnstockentry t
		<include refid="dynamicWhere" />
	</select>
</mapper>  
